const express = require("express");
const cors = require("cors");
const app = express();

app.use(cors());

// Sample product data
const products = [
  { name: "Laptop", price: 1200 },
  { name: "Mouse", price: 25 },
  { name: "Keyboard", price: 45 },
];

// API endpoint
app.get("/api/products", (req, res) => {
  res.json(products);
});

// Run server
const PORT = 5000;
app.listen(PORT, () => console.log(`✅ Server running on port ${PORT}`));


# =========================
# ⚛️ FRONTEND (React App)
# =========================
# Create a React app using:
# npx create-react-app frontend
# cd frontend
# npm install axios
# Replace src/App.js and src/App.css with the following:

// ---------- src/App.js ----------
import React, { useEffect, useState } from "react";
import axios from "axios";
import "./App.css";

function App() {
  const [products, setProducts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    axios
      .get("http://localhost:5000/api/products")
      .then((res) => {
        setProducts(res.data);
        setLoading(false);
      })
      .catch(() => {
        setError("Failed to fetch products");
        setLoading(false);
      });
  }, []);

  if (loading) return <h2>Loading...</h2>;
  if (error) return <h2>{error}</h2>;

  return (
    <div className="app">
      <h1 className="title">Product List</h1>
      <div className="product-container">
        {products.map((product, index) => (
          <div key={index} className="product-card">
            <h3>{product.name}</h3>
            <p>Price: ${product.price}</p>
            <button className="buy-btn">Buy Now</button>
          </div>
        ))}
      </div>
    </div>
  );
}

export default App;


// ---------- src/App.css ----------
body {
  background-color: #121212;
  color: white;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

.app {
  text-align: center;
  padding: 40px;
}

.title {
  font-size: 2em;
  font-weight: bold;
  margin-bottom: 30px;
}

.product-container {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}

.product-card {
  background-color: #1e1e1e;
  border: 1px solid #444;
  border-radius: 10px;
  padding: 20px;
  width: 200px;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
}

.product-card h3 {
  margin-bottom: 10px;
}

.buy-btn {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 6px;
  cursor: pointer;
}

.buy-btn:hover {
  background-color: #0056b3;
}


# =========================
# ▶️ RUNNING INSTRUCTIONS
# =========================
# 1️⃣ Start backend:
#    cd backend
#    npm init -y
#    npm install express cors
#    node server.js

# 2️⃣ Start frontend:
#    cd frontend
#    npm start

# Open your browser at http://localhost:3000
# You’ll see three cards: Laptop, Mouse, Keyboard with “Buy Now” buttons
# styled exactly like the example output.
